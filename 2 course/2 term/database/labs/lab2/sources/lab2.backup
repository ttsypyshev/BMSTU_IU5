--
-- PostgreSQL database dump
--

-- Dumped from database version 16.2
-- Dumped by pg_dump version 16.1

-- Started on 2024-03-18 04:32:13 UTC

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 16454)
-- Name: customers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.customers (
    idcustomer integer NOT NULL,
    companyname character varying(100),
    lastname character varying(50) NOT NULL,
    firstname character varying(50) NOT NULL,
    adress character varying(250),
    city character varying(50),
    indexcode character varying(20),
    phone character varying(20),
    email character varying(255)
);


ALTER TABLE public.customers OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16453)
-- Name: customers_idcustomer_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.customers ALTER COLUMN idcustomer ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.customers_idcustomer_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16485)
-- Name: items; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.items (
    itemid integer NOT NULL,
    orderid integer NOT NULL,
    productid integer NOT NULL,
    quantity integer NOT NULL,
    total money
);


ALTER TABLE public.items OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16484)
-- Name: items_itemid_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.items ALTER COLUMN itemid ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.items_itemid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16464)
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    idorder integer NOT NULL,
    idcustomer integer NOT NULL,
    orderdate date DEFAULT CURRENT_DATE NOT NULL,
    shipdate date,
    paiddate date,
    status character(1),
    CONSTRAINT orders_status_check CHECK ((status = ANY (ARRAY['C'::bpchar, 'P'::bpchar, 'A'::bpchar])))
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 16463)
-- Name: orders_idorder_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.orders ALTER COLUMN idorder ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orders_idorder_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16477)
-- Name: products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products (
    idproduct integer NOT NULL,
    prname character varying(150) NOT NULL,
    prprice money,
    instock integer,
    reorder boolean,
    description text
);


ALTER TABLE public.products OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16476)
-- Name: products_idproduct_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.products ALTER COLUMN idproduct ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.products_idproduct_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3420 (class 0 OID 16454)
-- Dependencies: 216
-- Data for Name: customers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.customers (idcustomer, companyname, lastname, firstname, adress, city, indexcode, phone, email) FROM stdin;
1	ABC Corporation	Smith	John	123 Main St	New York	10001	555-1234	john@abccorp.com
2	XYZ Enterprises	Johnson	Emily	456 Elm St	Los Angeles	90001	555-5678	emily@xyz.com
3	LMN Industries	Williams	Michael	789 Oak St	Chicago	60601	555-9012	michael@lmnindustries.com
4	DEF Limited	Brown	Jessica	101 Pine St	Houston	77002	555-3456	jessica@def.com
5	GHI Inc.	Jones	Daniel	202 Maple St	Miami	33101	555-7890	daniel@ghiinc.com
\.


--
-- TOC entry 3426 (class 0 OID 16485)
-- Dependencies: 222
-- Data for Name: items; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.items (itemid, orderid, productid, quantity, total) FROM stdin;
1	1	1	5	$54.95
2	2	3	3	$45.87
3	3	2	2	$40.98
4	4	4	4	$35.96
5	5	5	1	$25.99
\.


--
-- TOC entry 3422 (class 0 OID 16464)
-- Dependencies: 218
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.orders (idorder, idcustomer, orderdate, shipdate, paiddate, status) FROM stdin;
1	1	2024-03-01	2024-03-03	2024-03-04	C
2	2	2024-03-02	2024-03-04	2024-03-05	P
3	3	2024-03-03	2024-03-05	2024-03-06	A
4	4	2024-03-04	2024-03-06	2024-03-07	C
5	5	2024-03-05	2024-03-07	2024-03-08	P
\.


--
-- TOC entry 3424 (class 0 OID 16477)
-- Dependencies: 220
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products (idproduct, prname, prprice, instock, reorder, description) FROM stdin;
1	Product A	$10.99	100	t	Description of Product A
2	Product B	$20.49	75	f	Description of Product B
3	Product C	$15.29	50	t	Description of Product C
4	Product D	$8.99	120	f	Description of Product D
5	Product E	$25.99	90	t	Description of Product E
\.


--
-- TOC entry 3432 (class 0 OID 0)
-- Dependencies: 215
-- Name: customers_idcustomer_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.customers_idcustomer_seq', 5, true);


--
-- TOC entry 3433 (class 0 OID 0)
-- Dependencies: 221
-- Name: items_itemid_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.items_itemid_seq', 5, true);


--
-- TOC entry 3434 (class 0 OID 0)
-- Dependencies: 217
-- Name: orders_idorder_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_idorder_seq', 5, true);


--
-- TOC entry 3435 (class 0 OID 0)
-- Dependencies: 219
-- Name: products_idproduct_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.products_idproduct_seq', 5, true);


--
-- TOC entry 3264 (class 2606 OID 16460)
-- Name: customers customers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customers
    ADD CONSTRAINT customers_pkey PRIMARY KEY (idcustomer);


--
-- TOC entry 3272 (class 2606 OID 16489)
-- Name: items items_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT items_pkey PRIMARY KEY (itemid);


--
-- TOC entry 3268 (class 2606 OID 16470)
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (idorder);


--
-- TOC entry 3270 (class 2606 OID 16483)
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (idproduct);


--
-- TOC entry 3266 (class 2606 OID 16462)
-- Name: customers unique_last_firstname; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customers
    ADD CONSTRAINT unique_last_firstname UNIQUE (lastname, firstname);


--
-- TOC entry 3274 (class 2606 OID 16490)
-- Name: items items_orderid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT items_orderid_fkey FOREIGN KEY (orderid) REFERENCES public.orders(idorder);


--
-- TOC entry 3275 (class 2606 OID 16495)
-- Name: items items_productid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.items
    ADD CONSTRAINT items_productid_fkey FOREIGN KEY (productid) REFERENCES public.products(idproduct);


--
-- TOC entry 3273 (class 2606 OID 16471)
-- Name: orders orders_idcustomer_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_idcustomer_fkey FOREIGN KEY (idcustomer) REFERENCES public.customers(idcustomer);


-- Completed on 2024-03-18 04:32:13 UTC

--
-- PostgreSQL database dump complete
--

